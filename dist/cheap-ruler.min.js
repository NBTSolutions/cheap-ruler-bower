(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.cheapRuler=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(g,i,e){i.exports=l;function l(n,m){return new h(n,m)}var k=l.units={kilometers:1,miles:1000/1609.344,nauticalmiles:1000/1852,meters:1000,metres:1000,yards:1000/0.9144,feet:1000/0.3048,inches:1000/0.0254};l.fromTile=function(r,p,m){var q=Math.PI*(1-2*(r+0.5)/Math.pow(2,p));var o=Math.atan(0.5*(Math.exp(q)-Math.exp(-q)))*180/Math.PI;return new h(o,m)};function h(s,o){if(s===undefined){throw new Error("No latitude given.")}if(o&&!k[o]){throw new Error("Unknown unit "+o+". Use one of: "+Object.keys(k))}var n=o?k[o]:1;var q=Math.cos(s*Math.PI/180);var u=2*q*q-1;var t=2*q*u-q;var r=2*q*t-u;var p=2*q*r-t;this.kx=n*(111.41513*q-0.09455*t+0.00012*p);this.ky=n*(111.13209-0.56605*u+0.0012*r)}h.prototype={distance:function(o,m){var p=(o[0]-m[0])*this.kx;var n=(o[1]-m[1])*this.ky;return Math.sqrt(p*p+n*n)},bearing:function(o,m){var p=(m[0]-o[0])*this.kx;var n=(m[1]-o[1])*this.ky;if(!p&&!n){return 0}var q=Math.atan2(-n,p)*180/Math.PI+90;if(q>180){q-=360}return q},destination:function(o,q,n){var m=(90-n)*Math.PI/180;return[o[0]+Math.cos(m)*q/this.kx,o[1]+Math.sin(m)*q/this.ky]},lineDistance:function(n){var o=0;for(var m=0;m<n.length-1;m++){o+=this.distance(n[m],n[m+1])}return o},area:function(r){var s=0;for(var q=0;q<r.length;q++){var p=r[q];for(var o=0,m=p.length,n=m-1;o<m;n=o++){s+=(p[o][0]-p[n][0])*(p[o][1]+p[n][1])*(q?-1:1)}}return(Math.abs(s)/2)*this.kx*this.ky},along:function(m,r){var o=0;if(r<=0){return m[0]}for(var n=0;n<m.length-1;n++){var s=m[n];var q=m[n+1];var p=this.distance(s,q);o+=p;if(o>r){return f(s,q,(r-(o-p))/p)}}return m[m.length-1]},pointOnLine:function(D,m){var w=Infinity;var o,n,B,s;for(var q=0;q<D.length-1;q++){var v=D[q][0];var u=D[q][1];var C=(D[q+1][0]-v)*this.kx;var A=(D[q+1][1]-u)*this.ky;if(C!==0||A!==0){var z=((m[0]-v)*this.kx*C+(m[1]-u)*this.ky*A)/(C*C+A*A);if(z>1){v=D[q+1][0];u=D[q+1][1]}else{if(z>0){v+=(C/this.kx)*z;u+=(A/this.ky)*z}}}C=(m[0]-v)*this.kx;A=(m[1]-u)*this.ky;var r=C*C+A*A;if(r<w){w=r;o=v;n=u;B=q;s=z}}return{point:[o,n],index:B,t:s}},lineSlice:function(n,s,w){var v=this.pointOnLine(w,n);var u=this.pointOnLine(w,s);if(v.index>u.index||(v.index===u.index&&v.t>u.t)){var q=v;v=u;u=q}var t=[v.point];var o=v.index+1;var m=u.index;if(!j(w[o],t[0])&&o<=m){t.push(w[o])}for(var p=o+1;p<=m;p++){t.push(w[p])}if(!j(w[m],u.point)){t.push(u.point)}return t},lineSliceAlong:function(m,q,u){var o=0;var r=[];for(var n=0;n<u.length-1;n++){var t=u[n];var s=u[n+1];var p=this.distance(t,s);o+=p;if(o>m&&r.length===0){r.push(f(t,s,(m-(o-p))/p))}if(o>=q){r.push(f(t,s,(q-(o-p))/p));return r}if(o>m){r.push(s)}}return r},bufferPoint:function(q,m){var n=m/this.ky;var o=m/this.kx;return[q[0]-o,q[1]-n,q[0]+o,q[1]+n]},bufferBBox:function(p,m){var n=m/this.ky;var o=m/this.kx;return[p[0]-o,p[1]-n,p[2]+o,p[3]+n]},insideBBox:function(m,n){return m[0]>=n[0]&&m[0]<=n[2]&&m[1]>=n[1]&&m[1]<=n[3]}};function j(n,m){return n[0]===m[0]&&n[1]===m[1]}function f(o,m,q){var p=m[0]-o[0];var n=m[1]-o[1];return[o[0]+p*q,o[1]+n*q]}},{}]},{},[1])(1)});
